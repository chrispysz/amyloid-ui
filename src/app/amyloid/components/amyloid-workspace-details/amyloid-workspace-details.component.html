<div class="container">
  <button
    class="btn btn-secondary"
    style="font-weight: bold"
    name="Add sequence"
  >
    <span class="btn-label" style="font-weight: bold"
      ><i class="bi bi-folder-plus"></i
    ></span>
    Add sequence
  </button>
  <div class="table-responsive">
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Identifier</th>
          <th scope="col">Actions</th>
          <th scope="col">State</th>
          <th scope="col">Sequence</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="true">
          <tr *ngFor="let sequence of sequences; index as i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ sequence.name }}</td>
            <td>
              <button
                class="btn btn-empty"
                name="Predict"
                (click)="predict(sequence.value, sequence.id)"
                [disabled]="predictionInProgress"
                placement="bottom" ngbTooltip="Run prediction for this sequence"
              >
                <span class="btn-label"
                  ><i
                    class="bi bi-fast-forward-circle"
                    style="font-size: 2rem"
                  ></i
                ></span>
              </button>
              <button
                class="btn btn-empty"
                name="Edit"
                (click)="editSequence(sequence.value, sequence.id)"
                [disabled]="predictionInProgress"
                placement="bottom" ngbTooltip="Edit sequence"
              >
                <span class="btn-label"
                  ><i
                    class="bi bi-pencil-square"
                    style="font-size: 2rem"
                  ></i
                ></span>
              </button>
              <button
                class="btn btn-empty"
                name="Results"
                (click)="showSequencePredictionResults(sequence.value, sequence.id)"
                [disabled]="predictionInProgress"
                placement="bottom" ngbTooltip="Display detailed results"
              >
                <span class="btn-label"
                  ><i
                    class="bi bi-file-earmark-binary"
                    style="font-size: 2rem"
                  ></i
                ></span>
              </button>
            </td>
            <td>{{ sequence.state }}</td>
            <td style="word-wrap: break-word; min-width: 200px; max-width: 200px">
              <ng-container
                *ngIf="
                  predictionInProgress && idBeingPredicted === sequence.id;
                  else sequenceValue
                "
              >
                <div>
                  <ngb-progressbar type="success" [value]="predictionProgress"
                    >Predicting sequence
                    <b>{{ currentSequenceNumber }}/{{ lastSequenceNumber }}</b
                    >...</ngb-progressbar
                  >
                </div>
              </ng-container>
            </td>
            <ng-template #sequenceValue>{{ sequence.value }}</ng-template>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>

